"use strict";(self.webpackChunkverdeflow_docs=self.webpackChunkverdeflow_docs||[]).push([[214],{819:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>d,toc:()=>o});var s=i(6070),r=i(8396);const l={id:"setup",title:"Setup Guide",sidebar_label:"Setup Guide"},t="VerdeFlow \u2014 Setup Guide",d={id:"setup",title:"Setup Guide",description:"This guide explains how to set up a local VerdeFlow environment including the backend API, UI, profiling agent, and sample API.",source:"@site/docs/setup.md",sourceDirName:".",slug:"/setup",permalink:"/verdeflow-docs/setup",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"setup",title:"Setup Guide",sidebar_label:"Setup Guide"},sidebar:"docs",previous:{title:"Introduction",permalink:"/verdeflow-docs/intro"},next:{title:"Sample API Guide",permalink:"/verdeflow-docs/sample-api"}},a={},o=[{value:"1. Prerequisites",id:"1-prerequisites",level:2},{value:"1.1 Tools",id:"11-tools",level:3},{value:"1.2 Hardware",id:"12-hardware",level:3},{value:"2. Clone Repositories",id:"2-clone-repositories",level:2},{value:"3. Backend (API) Setup",id:"3-backend-api-setup",level:2},{value:"3.1 Install Dependencies",id:"31-install-dependencies",level:3},{value:"3.2 Environment Configuration",id:"32-environment-configuration",level:3},{value:"3.3 Database Migrations &amp; Seed Data",id:"33-database-migrations--seed-data",level:3},{value:"3.4 Start Backend Services",id:"34-start-backend-services",level:3},{value:"4. UI Setup",id:"4-ui-setup",level:2},{value:"4.1 Install Dependencies",id:"41-install-dependencies",level:3},{value:"4.2 Configure Environment",id:"42-configure-environment",level:3},{value:"4.3 Start the UI",id:"43-start-the-ui",level:3},{value:"5. Profiling Agent Setup (Raspberry Pi or Linux Host)",id:"5-profiling-agent-setup-raspberry-pi-or-linux-host",level:2},{value:"5.1 Prepare the Host",id:"51-prepare-the-host",level:3},{value:"5.2 Clone and Configure the Agent",id:"52-clone-and-configure-the-agent",level:3},{value:"5.3 Start the Agent",id:"53-start-the-agent",level:3},{value:"6. Sample API Setup",id:"6-sample-api-setup",level:2}];function c(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"verdeflow--setup-guide",children:"VerdeFlow \u2014 Setup Guide"}),"\n",(0,s.jsx)(n.p,{children:"This guide explains how to set up a local VerdeFlow environment including the backend API, UI, profiling agent, and sample API."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"1-prerequisites",children:"1. Prerequisites"}),"\n",(0,s.jsx)(n.h3,{id:"11-tools",children:"1.1 Tools"}),"\n",(0,s.jsx)(n.p,{children:"Install the following on your development machine:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Docker & Docker Compose"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Node.js"})," (LTS version recommended)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"pnpm"})," (preferred package manager for the monorepo)"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Git"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"PostgreSQL client"})," (optional, useful for debugging the DB)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"12-hardware",children:"1.2 Hardware"}),"\n",(0,s.jsxs)(n.p,{children:["For realistic profiling, you typically use a ",(0,s.jsx)(n.strong,{children:"Raspberry Pi"})," (e.g., Raspberry Pi 4).",(0,s.jsx)(n.br,{}),"\n","However, any Linux machine can act as a profiling agent as long as it has network access to the backend API and the target API."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"2-clone-repositories",children:"2. Clone Repositories"}),"\n",(0,s.jsx)(n.p,{children:"Clone the required repositories. Adjust URLs to your actual Git server."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"git clone <repo-url>/verde-flow-api.git\ngit clone <repo-url>/verde-flow-ui.git\ngit clone <repo-url>/verde-flow-pi-agent.git\ngit clone <repo-url>/sample-api.git\n"})}),"\n",(0,s.jsx)(n.p,{children:"You should now have four sibling folders:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"verde-flow-api/"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"verde-flow-ui/"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"verde-flow-pi-agent/"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"sample-api/"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"3-backend-api-setup",children:"3. Backend (API) Setup"}),"\n",(0,s.jsx)(n.h3,{id:"31-install-dependencies",children:"3.1 Install Dependencies"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd verde-flow-api\npnpm install\n"})}),"\n",(0,s.jsx)(n.h3,{id:"32-environment-configuration",children:"3.2 Environment Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Copy the example environment file and adjust values:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cp .env.example .env\n"})}),"\n",(0,s.jsx)(n.p,{children:"Typical settings include:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"POSTGRES_URL"})," \u2013 PostgreSQL connection string"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TSDB_URL"})," \u2013 Time series database endpoint (e.g., VictoriaMetrics)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"S3_ENDPOINT"})," and ",(0,s.jsx)(n.code,{children:"S3_BUCKET"})," \u2013 Object storage for artifacts"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TIMEZONE_DEFAULT"})," \u2013 Default timezone (e.g., ",(0,s.jsx)(n.code,{children:"Europe/Helsinki"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"33-database-migrations--seed-data",children:"3.3 Database Migrations & Seed Data"}),"\n",(0,s.jsx)(n.p,{children:"Run migrations and seed the database:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm migrate\npnpm seed\n"})}),"\n",(0,s.jsx)(n.h3,{id:"34-start-backend-services",children:"3.4 Start Backend Services"}),"\n",(0,s.jsx)(n.p,{children:"To start all backend apps in development mode:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm dev\n"})}),"\n",(0,s.jsx)(n.p,{children:"This typically launches:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Gateway API"}),"\n",(0,s.jsx)(n.li,{children:"Ingest service"}),"\n",(0,s.jsx)(n.li,{children:"Estimator service"}),"\n",(0,s.jsx)(n.li,{children:"Scheduler service"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["You can also run individual apps via ",(0,s.jsx)(n.code,{children:"pnpm --filter"}),", depending on how the repo is configured."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"4-ui-setup",children:"4. UI Setup"}),"\n",(0,s.jsx)(n.h3,{id:"41-install-dependencies",children:"4.1 Install Dependencies"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd ../verde-flow-ui\npnpm install\n"})}),"\n",(0,s.jsx)(n.h3,{id:"42-configure-environment",children:"4.2 Configure Environment"}),"\n",(0,s.jsxs)(n.p,{children:["Copy and edit the ",(0,s.jsx)(n.code,{children:".env"})," file if necessary (e.g., API base URL):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cp .env.example .env\n# Set VITE_API_BASE_URL or equivalent to point at the gateway API\n"})}),"\n",(0,s.jsx)(n.h3,{id:"43-start-the-ui",children:"4.3 Start the UI"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm dev\n"})}),"\n",(0,s.jsx)(n.p,{children:"Open your browser at the URL shown in the terminal, e.g.:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"http://localhost:5173"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"You should see the VerdeFlow web interface."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"5-profiling-agent-setup-raspberry-pi-or-linux-host",children:"5. Profiling Agent Setup (Raspberry Pi or Linux Host)"}),"\n",(0,s.jsx)(n.h3,{id:"51-prepare-the-host",children:"5.1 Prepare the Host"}),"\n",(0,s.jsx)(n.p,{children:"On the agent device:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo apt update\nsudo apt install -y git docker.io docker-compose\nsudo usermod -aG docker $USER\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Log out and back in to ensure your user is added to the ",(0,s.jsx)(n.code,{children:"docker"})," group."]}),"\n",(0,s.jsx)(n.h3,{id:"52-clone-and-configure-the-agent",children:"5.2 Clone and Configure the Agent"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"git clone <repo-url>/verde-flow-pi-agent.git\ncd verde-flow-pi-agent\npnpm install\ncp .env.example .env\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Update ",(0,s.jsx)(n.code,{children:".env"})," with:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"VERDEFLOW_API_URL"})," \u2013 URL of the backend gateway, e.g. ",(0,s.jsx)(n.code,{children:"http://<host>:<port>"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TARGET_API_BASE_URL"})," \u2013 Base URL of the API to be profiled (e.g., sample API)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"53-start-the-agent",children:"5.3 Start the Agent"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm start\n"})}),"\n",(0,s.jsx)(n.p,{children:"The agent should:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Register itself with the backend (if applicable)"}),"\n",(0,s.jsx)(n.li,{children:"Be ready to accept profiling jobs or manual commands"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"6-sample-api-setup",children:"6. Sample API Setup"}),"\n",(0,s.jsx)(n.p,{children:"The Sample API provides a hands-on playground to understand VerdeFlow."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd ../sample-api\npnpm install\npnpm dev\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Make note of the port it runs on, e.g. ",(0,s.jsx)(n.code,{children:"http://localhost:3000"}),", and ensure the profiling agent can reach it (you may need to use ",(0,s.jsx)(n.code,{children:"host.docker.internal"})," or the host IP address when running Docker)."]}),"\n",(0,s.jsx)(n.p,{children:"You are now ready to connect everything through the VerdeFlow UI and run your first profiling session."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8396:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>d});var s=i(758);const r={},l=s.createContext(r);function t(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);