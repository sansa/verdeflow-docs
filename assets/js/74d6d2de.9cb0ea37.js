"use strict";(self.webpackChunkverdeflow_docs=self.webpackChunkverdeflow_docs||[]).push([[87],{3679:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var i=s(6070),r=s(8396);const l={id:"sample-api",title:"Sample API Guide",sidebar_label:"Sample API Guide"},t="VerdeFlow \u2014 Sample API Guide",o={id:"sample-api",title:"Sample API Guide",description:"The Sample API is a demonstration service designed to help you quickly learn how VerdeFlow works in practice.",source:"@site/docs/sample-api.md",sourceDirName:".",slug:"/sample-api",permalink:"/verdeflow-docs/sample-api",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"sample-api",title:"Sample API Guide",sidebar_label:"Sample API Guide"},sidebar:"docs",previous:{title:"Setup Guide",permalink:"/verdeflow-docs/setup"},next:{title:"Developer Workflows",permalink:"/verdeflow-docs/workflows"}},a={},c=[{value:"1. Sample API Scenarios",id:"1-sample-api-scenarios",level:2},{value:"2. Running the Sample API",id:"2-running-the-sample-api",level:2},{value:"3. Creating a Project for the Sample API",id:"3-creating-a-project-for-the-sample-api",level:2},{value:"4. Running a Profiling Session",id:"4-running-a-profiling-session",level:2},{value:"4.1 Manual Run from the UI",id:"41-manual-run-from-the-ui",level:3},{value:"4.2 CI-Triggered Runs (Optional)",id:"42-ci-triggered-runs-optional",level:3},{value:"5. Interpreting Results for the Sample API",id:"5-interpreting-results-for-the-sample-api",level:2},{value:"5.1 Metrics Over Time",id:"51-metrics-over-time",level:3},{value:"5.2 Scenario Comparisons",id:"52-scenario-comparisons",level:3},{value:"5.3 Commit and Branch Trends",id:"53-commit-and-branch-trends",level:3}];function d(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"verdeflow--sample-api-guide",children:"VerdeFlow \u2014 Sample API Guide"}),"\n",(0,i.jsx)(n.p,{children:"The Sample API is a demonstration service designed to help you quickly learn how VerdeFlow works in practice."}),"\n",(0,i.jsx)(n.p,{children:"It provides multiple implementation variants so you can see how design decisions affect:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Response time"}),"\n",(0,i.jsx)(n.li,{children:"Resource usage (CPU, memory, network)"}),"\n",(0,i.jsx)(n.li,{children:"Energy consumption per request or scenario"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"1-sample-api-scenarios",children:"1. Sample API Scenarios"}),"\n",(0,i.jsx)(n.p,{children:"Typical scenarios (your actual API may expose slightly different routes/names):"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Baseline"}),(0,i.jsx)(n.br,{}),"\n","Straightforward implementation, no special optimizations."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cache"}),(0,i.jsx)(n.br,{}),"\n","Uses in-memory or external caching to reduce repeated work."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Compression"}),(0,i.jsx)(n.br,{}),"\n","Compresses responses (e.g., GZIP) to reduce network usage, often at the cost of additional CPU."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Refactored"}),(0,i.jsx)(n.br,{}),"\n","More efficient algorithms or data structures, resulting in lower CPU and faster responses."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Heavy / Stress Endpoints"}),(0,i.jsx)(n.br,{}),"\n","Deliberately expensive endpoints to highlight bottlenecks and \u201cguzzlers\u201d."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"These variants can be implemented as separate routes or as query parameters that switch behavior."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"2-running-the-sample-api",children:"2. Running the Sample API"}),"\n",(0,i.jsx)(n.p,{children:"From the repository:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd sample-api\npnpm install\npnpm dev\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Check which port the API is running on (for example, ",(0,i.jsx)(n.code,{children:"http://localhost:3000"}),").",(0,i.jsx)(n.br,{}),"\n","Ensure that the ",(0,i.jsx)(n.strong,{children:"profiling agent"})," can reach this URL. With Docker in the mix, you might need to use:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"http://host.docker.internal:3000"})," (on some platforms), or"]}),"\n",(0,i.jsx)(n.li,{children:"The host machine\u2019s IP address."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You\u2019ll use this URL later as the ",(0,i.jsx)(n.strong,{children:"Target API Base URL"})," in VerdeFlow."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"3-creating-a-project-for-the-sample-api",children:"3. Creating a Project for the Sample API"}),"\n",(0,i.jsxs)(n.p,{children:["In the ",(0,i.jsx)(n.strong,{children:"VerdeFlow UI"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Go to ",(0,i.jsx)(n.strong,{children:"Projects \u2192 New Project"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Fill in fields such as:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Name"}),": ",(0,i.jsx)(n.code,{children:"Sample API \u2013 Energy Demo"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Repository URL"}),": ",(0,i.jsx)(n.code,{children:"<URL of sample-api repo>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default Branch"}),": ",(0,i.jsx)(n.code,{children:"main"})," (or your default)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Target Base URL"}),": the URL at which the sample API is reachable from the agent (e.g., ",(0,i.jsx)(n.code,{children:"http://host.docker.internal:3000"}),")."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Save the project."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This config allows VerdeFlow to associate profiling runs with the sample API and its commits."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"4-running-a-profiling-session",children:"4. Running a Profiling Session"}),"\n",(0,i.jsx)(n.p,{children:"You can start profiling via the UI or CI. For a first test, use the UI."}),"\n",(0,i.jsx)(n.h3,{id:"41-manual-run-from-the-ui",children:"4.1 Manual Run from the UI"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Open the ",(0,i.jsx)(n.strong,{children:"Sample API project"})," you created."]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"\u201cRun Profiling\u201d"})," or the equivalent action."]}),"\n",(0,i.jsxs)(n.li,{children:["Choose:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["A ",(0,i.jsx)(n.strong,{children:"Scenario"})," such as ",(0,i.jsx)(n.code,{children:"baseline"}),", ",(0,i.jsx)(n.code,{children:"cache"}),", ",(0,i.jsx)(n.code,{children:"compression"}),", or ",(0,i.jsx)(n.code,{children:"refactored"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["A ",(0,i.jsx)(n.strong,{children:"Workload"})," (for example, \u201c100 requests over 60 seconds\u201d)."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Confirm and start the run."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The backend scheduler assigns the run to an available agent, which then:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Executes the workload against the sample API"}),"\n",(0,i.jsx)(n.li,{children:"Collects metrics"}),"\n",(0,i.jsx)(n.li,{children:"Streams them to the ingest service"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"42-ci-triggered-runs-optional",children:"4.2 CI-Triggered Runs (Optional)"}),"\n",(0,i.jsx)(n.p,{children:"You can also configure CI pipelines or Git webhooks to automatically trigger runs whenever:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"A new commit is pushed"}),"\n",(0,i.jsx)(n.li,{children:"A pull request is opened or updated"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This allows you to treat energy metrics similarly to tests or quality checks."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"5-interpreting-results-for-the-sample-api",children:"5. Interpreting Results for the Sample API"}),"\n",(0,i.jsx)(n.p,{children:"Once a run finishes, open the project in the UI and explore:"}),"\n",(0,i.jsx)(n.h3,{id:"51-metrics-over-time",children:"5.1 Metrics Over Time"}),"\n",(0,i.jsx)(n.p,{children:"Common charts include:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"CPU usage vs time"}),"\n",(0,i.jsx)(n.li,{children:"Memory usage vs time"}),"\n",(0,i.jsx)(n.li,{children:"Network throughput vs time"}),"\n",(0,i.jsx)(n.li,{children:"Response times (min/avg/max or histograms)"}),"\n",(0,i.jsx)(n.li,{children:"Estimated power and energy consumption"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"52-scenario-comparisons",children:"5.2 Scenario Comparisons"}),"\n",(0,i.jsx)(n.p,{children:"Use the comparison views to answer questions such as:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Did ",(0,i.jsx)(n.strong,{children:"caching"})," reduce CPU, latency, and energy usage?"]}),"\n",(0,i.jsxs)(n.li,{children:["Did ",(0,i.jsx)(n.strong,{children:"compression"})," reduce network traffic but increase CPU time?"]}),"\n",(0,i.jsxs)(n.li,{children:["Did ",(0,i.jsx)(n.strong,{children:"refactoring"})," significantly lower response times and total energy per request?"]}),"\n",(0,i.jsx)(n.li,{children:"Are there endpoints that dominate energy usage even with optimizations?"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"53-commit-and-branch-trends",children:"5.3 Commit and Branch Trends"}),"\n",(0,i.jsx)(n.p,{children:"For commit-aware configurations, you can:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Compare energy metrics across commits or branches"}),"\n",(0,i.jsx)(n.li,{children:"Spot regressions early"}),"\n",(0,i.jsx)(n.li,{children:"Justify refactoring work with quantified improvements"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The Sample API is deliberately small and safe to experiment with. Use it to build intuition before applying VerdeFlow to production services."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8396:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var i=s(758);const r={},l=i.createContext(r);function t(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);